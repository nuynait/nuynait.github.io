<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> File Management in Swift · Tianyun Shan</title><meta name="description" content="File Management in Swift - Tianyun Shan"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://blog.jerryshan.com/atom.xml" title="Tianyun Shan"><meta name="generator" content="Hexo 5.4.0"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/sunchongsheng" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/pinggod" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">File Management in Swift</h1><div class="post-info">Apr 8, 2017</div><div class="post-content"><p>This note including everything I need to with file management on iOS. So it will have notes mostly on <a target="_blank" rel="noopener" href="https://developer.apple.com/reference/foundation/filemanager">File Manager</a> usage. Methods for permanent data storage with files are also included in this note.</p>
<span id="more"></span>

<h1 id="Get-File-or-Folder-Path"><a href="#Get-File-or-Folder-Path" class="headerlink" title="Get File or Folder Path"></a>Get File or Folder Path</h1><h2 id="Get-Document-Directory"><a href="#Get-Document-Directory" class="headerlink" title="Get Document Directory"></a>Get Document Directory</h2><p>The iOS uses the sandbox system to protect users privacy. If you want to save your data into files on iOS, you have to do it in the document directory. Here is how to get the document directory <code>URL</code>.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getDocumentDirURL</span>()</span> -&gt; <span class="type">URL</span>? &#123;</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">try</span> <span class="type">FileManager</span>.default.url(for: .documentDirectory, in: .userDomainMask, appropriateFor: <span class="literal">nil</span>, create: <span class="literal">true</span>)</span><br><span class="line">  &#125; <span class="keyword">catch</span> <span class="keyword">_</span> &#123;</span><br><span class="line">    <span class="comment">// catch error</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Append-File-or-Folder-Path"><a href="#Append-File-or-Folder-Path" class="headerlink" title="Append File or Folder Path"></a>Append File or Folder Path</h2><p>In order to get the file, we need to append the url after the document directory. First we get document directory URL. Next we write the folder or file name in string and then use <code>appendingPathComponent</code> function to get the full url for the file or folder.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Usage Example:</span></span><br><span class="line"><span class="comment"> * let fileURL = getFileURL(filename: &quot;example.json&quot;)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getFileURL</span>(<span class="params">filename</span>: <span class="type">String</span>)</span> -&gt; <span class="type">URL</span>? &#123;</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">let</span> docURL <span class="operator">=</span> getDocumentURL() &#123;</span><br><span class="line">    <span class="keyword">return</span> docURL.appendingPathComponent(filename)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Get-file-directly-from-the-main-bundle"><a href="#Get-file-directly-from-the-main-bundle" class="headerlink" title="Get file directly from the main bundle"></a>Get file directly from the main bundle</h2><p>Main bundle means the <code>workspace</code> folder. If we want to read a file in the development folder, we need to create a folder <code>Resources</code> and put files under <code>Resources</code>.</p>
<p>For example, we have <code>repo/proj/proj/Resources/data.csv</code> file that we want to get the path for the file.</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *filePath = [[<span class="built_in">NSBundle</span> mainBundle] pathForResources:<span class="string">@&quot;data&quot;</span> ofType:<span class="string">@&quot;csv&quot;</span>];</span><br></pre></td></tr></table></figure>

<h1 id="Get-Contents-From-the-File"><a href="#Get-Contents-From-the-File" class="headerlink" title="Get Contents From the File"></a>Get Contents From the File</h1><p>First we get the url for that file. Then we get the content of that URL using different methods depending on the format I want.</p>
<h2 id="Get-Data-From-The-File"><a href="#Get-Data-From-The-File" class="headerlink" title="Get Data From The File"></a>Get Data From The File</h2><p>Create a <code>Data</code> object using the constructor <code>Data(contentsOf: url)</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getDataFrom</span>(<span class="params">url</span>: <span class="type">URL</span>)</span> -&gt; <span class="type">Data</span>? &#123;</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> data <span class="operator">=</span> <span class="keyword">try</span> <span class="type">Data</span>(contentsOf: url)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125; <span class="keyword">catch</span> <span class="keyword">_</span> &#123;</span><br><span class="line">    <span class="comment">// error handling</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Read-String-Line-By-Line-From-The-File"><a href="#Read-String-Line-By-Line-From-The-File" class="headerlink" title="Read String Line By Line From The File"></a>Read String Line By Line From The File</h2><p>Sometimes, we want to read from a file line by line. In this case we create the <code>string</code> using <a target="_blank" rel="noopener" href="https://developer.apple.com/reference/foundation/nsstring/1497269-stringwithcontentsoffile">constructor</a> <code>stringWithContentsOfFile</code>. First, we get a string for the whole file, then we separate the string with the newline character. As a result, we get an array of string separated by lines.</p>
<p>Note that <code>stringWithContentsOfFile</code> takes a string of path. So we can get it by accessing the <code>path</code> property of an <code>URL</code>.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">readLineByLine</span>(<span class="params">url</span>: <span class="type">URL</span>)</span> &#123;</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> file: <span class="type">String</span> <span class="operator">=</span> <span class="keyword">try</span> <span class="type">String</span>(contentsOfFile: url.path, encoding: .utf8)</span><br><span class="line">    <span class="keyword">let</span> allLines: <span class="type">String</span> <span class="operator">=</span> data.components(separatedBy: .newlines)</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> allLines &#123;</span><br><span class="line">      <span class="comment">// do whatever you want to each line</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> <span class="keyword">_</span> &#123;</span><br><span class="line">    <span class="comment">// error handling</span></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Objects-Permanent-Storage-and-JSON-Files"><a href="#Objects-Permanent-Storage-and-JSON-Files" class="headerlink" title="Objects Permanent Storage and JSON Files"></a>Objects Permanent Storage and JSON Files</h1><p>People usually use <code>core data</code> to store app data permanently on disk. Sometimes, I choose to convert objects into <code>json</code> files manually. I found out that it will be easier if I want to support my app to the android platform in that case.</p>
<p>So there are several things needed in order to convert objects into <code>json</code> files and later to load these objects from the disk.</p>
<p>We need <a target="_blank" rel="noopener" href="https://github.com/SwiftyJSON/SwiftyJSON">SwiftyJSON</a> framework here for easier <code>json</code> parsing.</p>
<p>For easier description, we will use the following example. Assume we have an item object, which contain a number <code>id</code> and a string <code>data</code> and we want to save an <code>array of item</code> in to the disk to load later.</p>
<p>We want to load that <code>array of item</code> when app starts and save it to disk any time we add an <code>item</code> into the array.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Item</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> id: <span class="type">Int</span></span><br><span class="line">  <span class="keyword">let</span> data: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">init</span>(<span class="params">id</span>: <span class="type">Int</span>, <span class="params">data</span>: <span class="type">String</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">self</span>.id <span class="operator">=</span> id</span><br><span class="line">    <span class="keyword">self</span>.data <span class="operator">=</span> data</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">init</span>(<span class="params">json</span>: <span class="type">JSON</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">toDict</span>()</span> -&gt; <span class="type">Dictionary</span>&lt;<span class="type">String</span>, <span class="keyword">Any</span>&gt; &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ItemManager</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> items: [<span class="type">Item</span>] <span class="operator">=</span> [] <span class="comment">// assume we create items and add to this array at app run time.</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">saveToDisk</span>()</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">loadFromDisk</span>()</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Changes-to-Item-Class"><a href="#Changes-to-Item-Class" class="headerlink" title="Changes to Item Class"></a>Changes to Item Class</h2><p>First of all, we need two methods from the <code>Item</code>. One is to initialize the object from a <code>JSON</code>. The other one is to convert the object into a <code>dictionary</code>. The key for the dictionary is <code>string</code>, the value will be <code>any</code> because it can be <code>int</code>, <code>string</code>, <code>data</code>, etc.</p>
<p>So this is what we add into the <code>Item</code> class:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Item</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> id: <span class="type">Int</span></span><br><span class="line">  <span class="keyword">let</span> data: <span class="type">String</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">init</span>(<span class="params">id</span>: <span class="type">Int</span>, <span class="params">data</span>: <span class="type">String</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">self</span>.id <span class="operator">=</span> id</span><br><span class="line">    <span class="keyword">self</span>.data <span class="operator">=</span> data</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">init</span>(<span class="params">json</span>: <span class="type">JSON</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">self</span>.id <span class="operator">=</span> json[<span class="string">&quot;id&quot;</span>].int <span class="operator">??</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">self</span>.data <span class="operator">=</span> json[<span class="string">&quot;data&quot;</span>].string <span class="operator">??</span> <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">toDict</span>()</span> -&gt; <span class="type">Dictionary</span>&lt;<span class="type">String</span>, <span class="keyword">Any</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> dict: [<span class="type">String</span>: <span class="keyword">Any</span>] <span class="operator">=</span> [</span><br><span class="line">      <span class="string">&quot;id&quot;</span>   : <span class="keyword">self</span>.id,</span><br><span class="line">      <span class="string">&quot;data&quot;</span> : <span class="keyword">self</span>.data</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dict</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Here is what we need to be careful at.</p>
<p>When we get an item from the <code>JSON</code>, it will returns nil if the key does not exists or if the value type doesn’t match. So in the constructor, we might want to handle the null case correctly maybe log an error message when we cannot find the value from the <code>JSON</code>.</p>
<p>The key in the constructor and the key used in <code>toDict()</code> has to be match. Otherwise it might get null when fetch items from the <code>JSON</code>.</p>
<h2 id="Changes-to-Manager-Class"><a href="#Changes-to-Manager-Class" class="headerlink" title="Changes to Manager Class"></a>Changes to Manager Class</h2><p>For manager, we need to implement two functions, one is <code>loadFromDisk()</code>, the other one is <code>saveToDisk()</code>. To make things easier, the <code>loadFromDisk()</code> load everything on disk into the item array, and <code>saveToDisk()</code> save everything in the item array onto the disk.</p>
<p>For <code>loadFromDisk()</code> we first get the <code>data</code> from the <code>url</code> and then create a <code>JSON</code> objects from the <code>data</code>. This function will be called when app launches.</p>
<p>For <code>saveToDisk()</code> we first convert the <code>array of Item</code> into <code>array of    dictionary</code>. We get the dictionary for each item using the <code>toDict:</code> function we implemented. Then we convert dictionary into <code>JSON</code> and get the <code>raw data</code> from the <code>JSON</code> objects.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ItemManager</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> items: [<span class="type">Item</span>] <span class="operator">=</span> [] <span class="comment">// assume we create items and add to this array at app run time.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// call everytime item changes</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">saveToDisk</span>(<span class="params">url</span>: <span class="type">URL</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> dictArray: [[<span class="type">String</span>: <span class="keyword">Any</span>]] <span class="operator">=</span> items.map &#123; x <span class="keyword">in</span> <span class="keyword">return</span> &#123;x.toDict()&#125; &#125;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> jsonData <span class="operator">=</span> <span class="keyword">try</span> <span class="type">JSON</span>(dictArray).rawData()</span><br><span class="line">      <span class="keyword">try</span> jsonData.write(to: url, options: .atomicWrite)</span><br><span class="line">    &#125; <span class="keyword">catch</span> <span class="keyword">_</span> &#123;</span><br><span class="line">      <span class="comment">// error handling</span></span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// call at app launches</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">loadFromDisk</span>(<span class="params">url</span>: <span class="type">URL</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> jsonData <span class="operator">=</span> <span class="keyword">try</span> <span class="type">Data</span>(contentsOf: url)</span><br><span class="line">      <span class="keyword">let</span> arrayJSON:[<span class="type">JSON</span>] <span class="operator">=</span> <span class="type">JSON</span>(data: jsonData, options: <span class="type">JSONSerialization</span>.<span class="type">ReadingOptions</span>.mutableContainers, error: <span class="literal">nil</span>).arrayValue</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> itemJSON <span class="keyword">in</span> arrayJSON &#123;</span><br><span class="line">        <span class="keyword">let</span> item: <span class="type">Item</span> <span class="operator">=</span> <span class="type">Item</span>(json: itemJSON)</span><br><span class="line">        items.append(item)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> <span class="keyword">_</span> &#123;</span><br><span class="line">      <span class="comment">// error handling</span></span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Optimizations"><a href="#Optimizations" class="headerlink" title="Optimizations"></a>Optimizations</h2><p>Right now this method is easy to implement but it is not the most optimize way to do things. Obviously every time when I save to disk I rewrite the whole file again with every item in the array. We may easily optimize this by tracking which file is loaded from the disk and has been changed etc.</p>
<h1 id="Create-Folder"><a href="#Create-Folder" class="headerlink" title="Create Folder"></a>Create Folder</h1><p>First get the parent folder <code>url</code> and then append the folder name after the <code>url</code>. Remember that the folder name should end with &#39;<em>&#39;. An example of a folder name will be &quot;folder</em>&quot;.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">createFolder</span>(<span class="params">parentURL</span>: <span class="type">URL</span>, <span class="params">folderName</span>: <span class="type">String</span>)</span> &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// make sure folderName string ends with &#x27;/&#x27;</span></span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> folderURL <span class="operator">=</span> getDocumentDirURL()<span class="operator">?</span>.appendingPathComponent(folderName) <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// error handling, appending folder path failed</span></span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> <span class="type">FileManager</span>.default.createDirectory(atPath: folderURL.path, withIntermediateDirectories: <span class="literal">true</span>, attributes: <span class="literal">nil</span>)</span><br><span class="line">  &#125; <span class="keyword">catch</span> <span class="keyword">_</span> &#123;</span><br><span class="line">    <span class="comment">// error handling</span></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Remove-From-Disk"><a href="#Remove-From-Disk" class="headerlink" title="Remove From Disk"></a>Remove From Disk</h1><p>First get the <code>url</code> of the file or folder you want to remove and then call <code>removeItem</code>.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">delete</span>(<span class="params">path</span>: <span class="type">URL</span>)</span> &#123;</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> <span class="type">FileManager</span>().removeItem(at: path)</span><br><span class="line">  &#125; <span class="keyword">catch</span> <span class="keyword">_</span> &#123;</span><br><span class="line">    <span class="comment">// error handling</span></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div></article></div></main><footer><div class="paginator"><a href="/2017/04/19/Timer%20On%20Background%20Thread/" class="prev">PREV</a><a href="/2017/03/29/Use%20Svn%20-%20Quick%20Svn%20Tutorial/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2021 <a href="http://blog.jerryshan.com">Tianyun Shan</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>