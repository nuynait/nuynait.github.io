<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> iOS Coding Guideline · Tianyun Shan</title><meta name="description" content="iOS Coding Guideline - Tianyun Shan"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://blog.jerryshan.com/atom.xml" title="Tianyun Shan"><meta name="generator" content="Hexo 5.4.0"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/sunchongsheng" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/pinggod" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">iOS Coding Guideline</h1><div class="post-info">Jan 16, 2019</div><div class="post-content"><p>This is about iOS coding style convention.</p>
<span id="more"></span>

<h1 id="Naming-Convention"><a href="#Naming-Convention" class="headerlink" title="Naming Convention"></a>Naming Convention</h1><h2 id="Object-Name"><a href="#Object-Name" class="headerlink" title="Object Name"></a>Object Name</h2><p>Object name starts with <code>MN</code> as <code>Mapsted Navigation</code>.</p>
<h2 id="Property-Name"><a href="#Property-Name" class="headerlink" title="Property Name"></a>Property Name</h2><p>For private class property, starts with <code>_</code> followed by a lower camel case character. For example:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">var</span> buildingData: <span class="type">MNBuildingData</span> 	<span class="comment">// [Not Preferred]</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">var</span> _buildingData: <span class="type">MNBuildingData</span> 	<span class="comment">// [Preferred]</span></span><br></pre></td></tr></table></figure>

<h2 id="Enums"><a href="#Enums" class="headerlink" title="Enums"></a>Enums</h2><p>Enums should always use upper camel case.  Case for enum uses lower camel case. For example:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">LayerType</span> </span>&#123;</span><br><span class="line">	<span class="keyword">case</span> building, property</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Swift-Coding-Style"><a href="#Swift-Coding-Style" class="headerlink" title="Swift Coding Style"></a>Swift Coding Style</h1><h2 id="Constants-vs-Variable"><a href="#Constants-vs-Variable" class="headerlink" title="Constants vs Variable"></a>Constants vs Variable</h2><p>Constants are defined using <code>let</code> keyword. Always use <code>let</code> instead of <code>var</code> if the value will not change. <em>Tips:</em> A good technique is to define everything using let and only change it to <code>var</code> if the compiler complains.</p>
<h2 id="Optional"><a href="#Optional" class="headerlink" title="Optional"></a>Optional</h2><p>Only define optional variable where a <code>nil</code> value is acceptable. Don’t use <code>!</code> unless for <code>@IBOutlet</code>.  Avoid naming optional variables to something like <code>optionalValue</code> or <code>stringNilable</code></p>
<h2 id="Spacing"><a href="#Spacing" class="headerlink" title="Spacing"></a>Spacing</h2><p>Indent using 2 space rather than tabs to conserve space and help prevent line wrapping. Make sure to set this in Xcode.</p>
<p>For method <code>&#123;&#125;</code> brackets or <code>if</code>/<code>else</code>/<code>switch</code>/<code>while</code>, always open on the same line as the statement but close on a new line.</p>
<p><em>Preferred:</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> bool &#123;</span><br><span class="line">  <span class="comment">// do something</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>Not preferred:</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> bool</span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">// do something</span></span><br><span class="line">&#125; <span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">// do something else</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Use-of-Self"><a href="#Use-of-Self" class="headerlink" title="Use of Self"></a>Use of Self</h2><p>Use <code>self.</code> only when required by the compiler. (In <code>@escaping</code> closures, or in initializers to disambiguate properties from arguments). In other words, if it compiles without <code>self</code> then omit it.</p>
<h2 id="Switch"><a href="#Switch" class="headerlink" title="Switch"></a>Switch</h2><p>Switch should cover all the cases if necessary, do not use default unless really needed.</p>
<h2 id="Access-Control"><a href="#Access-Control" class="headerlink" title="Access Control"></a>Access Control</h2><p>Always using <code>private</code> if the function does not access from outside the class. Only using <code>fileprivate</code>, <code>open</code>, <code>public</code>, <code>internal</code> when you require a full access control specification. Always using an access control specifier before any function, class properties unless it’s a function coming from coca-touch or any third-party libraries. The access control specifier should always be the first one.</p>
<p><em>Preferred:</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">dynamic</span> <span class="keyword">lazy</span> <span class="keyword">var</span> b <span class="operator">=</span> <span class="type">B</span>()</span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">calc</span>()</span> &#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>Not Preferred:</em></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">  <span class="keyword">lazy</span> <span class="keyword">dynamic</span> <span class="keyword">private</span> <span class="keyword">var</span> b <span class="operator">=</span> <span class="type">B</span>() <span class="comment">// specifier order matters</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">calc</span>()</span> &#123; <span class="comment">// missing access control</span></span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Objective-C-Coding-Style"><a href="#Objective-C-Coding-Style" class="headerlink" title="Objective-C Coding Style"></a>Objective-C Coding Style</h1><p>For Objective-C coding convention, we mostly adapt to apple’s coding guidelines for cocoa and adding some our own changes. Apple’s coding guidelines can be found in <a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CodingGuidelines/CodingGuidelines.html#//apple_ref/doc/uid/10000146-SW1">Introduction to Coding Guidelines for Cocoa</a>. Below will include anything important in that guideline as well.</p>
<h2 id="Defining-Methods"><a href="#Defining-Methods" class="headerlink" title="Defining Methods"></a>Defining Methods</h2><p><a target="_blank" rel="noopener" href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CodingGuidelines/Articles/NamingMethods.html">Naming Methods</a></p>
<p>Here is how you want to define methods, please notice how I use space in this example.</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (type)doIt;</span><br><span class="line">- (type)doItWithA:(type)a;</span><br><span class="line">- (type)doItWithA:(type)a b:(type)b;</span><br></pre></td></tr></table></figure>

<p><em>Here is a list of rules for naming methods.</em></p>
<ol>
<li>Start the name with a lowercase letter and capitalize the first letter of embedded words.</li>
<li>For methods that represents actions an object takes, start the name with a verb:<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)invokeWithTarget:(<span class="keyword">id</span>)target;</span><br><span class="line">- (<span class="keyword">void</span>)selectTabViewItem:(<span class="built_in">NSTabViewItem</span> *)tabViewItem</span><br></pre></td></tr></table></figure></li>
<li>If the method returns an attribute of the receiver, name the method after the attribute. The use of the “get” is unnecessary, unless one or more values are returned indirectly.<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSSize</span>)cellSize 		<span class="comment">//right</span></span><br><span class="line">- (<span class="built_in">NSSize</span>)calcCellSize 	<span class="comment">//wrong</span></span><br><span class="line">- (<span class="built_in">NSSize</span>)getCellSize		<span class="comment">//wrong</span></span><br></pre></td></tr></table></figure></li>
<li>Use keywords before all arguments<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)sendAction:(SEL)aSelector toObject:(<span class="keyword">id</span>)anObject forAllCells:(<span class="built_in">BOOL</span>)flag;	<span class="comment">//right</span></span><br><span class="line">- (<span class="keyword">void</span>)sendAction:(SEL)aSelector anObject:(<span class="keyword">id</span>)anObject flag:(<span class="built_in">BOOL</span>)flag; 		<span class="comment">//not good</span></span><br><span class="line">- (<span class="keyword">void</span>)sendAction:(SEL)aSelector :(<span class="keyword">id</span>)anObject :(<span class="built_in">BOOL</span>)flag; 					<span class="comment">//wrong</span></span><br></pre></td></tr></table></figure></li>
<li>Make the word before the argument describe the argument<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">id</span>)viewWithTag:(<span class="built_in">NSInteger</span>)aTag; 	<span class="comment">//right</span></span><br><span class="line">- (<span class="keyword">id</span>)taggedView:(<span class="keyword">int</span>)aTag; 			<span class="comment">//wrong</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="Accessor-Methods"><a href="#Accessor-Methods" class="headerlink" title="Accessor Methods"></a>Accessor Methods</h3><p>Accessor methods are methods that set and return the value of a property of an object. They have certain recommended forms, depending on how the property is expressed.</p>
<ol>
<li>If the property is expressed as a noun, the format is:<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (type)noun;</span><br><span class="line">- (<span class="keyword">void</span>)setNoun:(<span class="built_in">NSString</span> *)aNoun;</span><br><span class="line"></span><br><span class="line"><span class="comment">// For example:</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)title;</span><br><span class="line">- (<span class="keyword">void</span>)setTitle:(<span class="built_in">NSString</span> *)aTitle;</span><br></pre></td></tr></table></figure></li>
<li>If the property is expressed as an adjective, the format is:<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)isAdjective;</span><br><span class="line">- (<span class="keyword">void</span>)setAdjective:(<span class="built_in">BOOL</span>)flag;</span><br><span class="line"></span><br><span class="line"><span class="comment">// For example:</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)isEditable;</span><br><span class="line">- (<span class="keyword">void</span>)setEditable:(<span class="built_in">BOOL</span>)flag;</span><br></pre></td></tr></table></figure></li>
<li>If the property is expressed as a verb, the format is:<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)verbObject;</span><br><span class="line">- (<span class="keyword">void</span>)setVerbObject:(<span class="built_in">BOOL</span>)flag;</span><br><span class="line"></span><br><span class="line"><span class="comment">// For example:</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)showsAlpha;</span><br><span class="line">- (<span class="keyword">void</span>)setShowsAlpha:(<span class="built_in">BOOL</span>)flag;</span><br></pre></td></tr></table></figure>
The verb should be in the simple present tense. You may use modal verbs (verbs preceded by “can”, “should”, “will” and so on) to clarify meaning, but don’t use “do” or “does”. For example:<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)setCanHide:(<span class="built_in">BOOL</span>)flag; 				<span class="comment">//right</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)canHide; 								<span class="comment">//right</span></span><br><span class="line">- (<span class="keyword">void</span>)setShouldCloseDocument:(<span class="built_in">BOOL</span>)flag;	<span class="comment">//right</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)shouldCloseDocument;					<span class="comment">//right</span></span><br><span class="line">- (<span class="keyword">void</span>)setDoesAcceptGlyphInfo:(<span class="built_in">BOOL</span>)flag;	<span class="comment">//wrong</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)doesAcceptGlyphInfo;					<span class="comment">//wrong</span></span><br></pre></td></tr></table></figure></li>
<li>Use “get” only for methods that return objects and values indirectly. You should use this form for methods only when multiple items need to be returned. For example:<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)getLineDash:(<span class="keyword">float</span> *)pattern count:(<span class="keyword">int</span> *)count phase:(<span class="keyword">float</span> *)phase;</span><br></pre></td></tr></table></figure></li>
</ol>
</div></article></div></main><footer><div class="paginator"><a href="/2019/01/16/Echo%20With%20Color/" class="prev">PREV</a><a href="/2019/01/15/How%20to%20Build%20Static%20Library%20With%20Both%20Architecture/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2021 <a href="http://blog.jerryshan.com">Tianyun Shan</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>